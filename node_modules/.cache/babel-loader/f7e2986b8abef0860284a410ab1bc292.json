{"remainingRequest":"C:\\xampp\\htdocs\\WolfChat\\chat\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\WolfChat\\chat\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\WolfChat\\chat\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\WolfChat\\chat\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\WolfChat\\chat\\src\\App.vue","mtime":1564756878100},{"path":"C:\\xampp\\htdocs\\WolfChat\\chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\WolfChat\\chat\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\WolfChat\\chat\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\WolfChat\\chat\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport fb from '@/firebase/init';\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nexport default {\n  name: 'app',\n  data: function data() {\n    return {\n      lat: null,\n      lng: null,\n      chatname: \"\",\n      users: [],\n      clicked: 0,\n      marker: null\n    };\n  },\n  methods: {\n    createChatroom: function createChatroom() {\n      fb.collection('users').add({\n        chatname: this.chatname,\n        lat: this.lat,\n        lng: this.lng,\n        timestamp: Date.now()\n      }).catch(function (err) {\n        console.log(err);\n      });\n      var modal = document.getElementById(\"myModal\");\n      modal.style.display = \"none\";\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var map = L.map('map', {\n      center: [46.7712, 23.6236],\n      zoom: 5\n    });\n    var tiles = new L.tileLayer('http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png');\n    tiles.addTo(map);\n    var modal = document.getElementById(\"myModal\");\n\n    window.onclick = function (event) {\n      if (event.target == modal) {\n        modal.style.display = \"none\";\n      }\n    };\n\n    this.$root.$on('setLocation', function () {\n      var locmodal = document.getElementById(\"locationModal\");\n      locmodal.style.display = \"block\";\n      var self = _this;\n\n      function openModal(latitude, longitude) {\n        self.lat = latitude;\n        self.lng = longitude;\n        modal.style.display = \"block\";\n        locmodal.style.display = \"none\";\n      }\n\n      function setMarker(callback) {\n        map.on('click', function (e) {\n          this.marker = L.marker(e.latlng).addTo(map);\n          localStorage.setItem('latitude', e.latlng.lat.toFixed(4));\n          localStorage.setItem('longitude', e.latlng.lng.toFixed(4));\n          callback(localStorage.latitude, localStorage.longitude);\n        });\n      }\n\n      setMarker(openModal);\n    });\n    this.$root.$on('showMarker', function () {\n      _this.marker = L.marker([localStorage.latitude, localStorage.longitude]).addTo(map);\n    });\n    this.$root.$on('hideMarker', function () {\n      map.removeLayer(_this.marker);\n    });\n  }\n};",{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<div id=\"map\" class=\"map\"></div>\n\t\t<div class=\"chatbox\">\n\t\t\t<router-view />\n\t\t</div>\n\t\t<div id=\"myModal\" class=\"modal\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<h3>New Chat</h3>\n\t\t\t\t<p>@ Latitude: {{ this.lat }} x Longitude: {{ this.lng }} </p>\n\t\t\t\t<input type=\"text\" class=\"form-control\" placeholder=\"Name this chat\" name=\"chatname\" v-model=\"chatname\">\n\t\t\t\t<button class=\"btn btn-primary\" @click=\"createChatroom\">Create</button>\n\t\t\t</div>\n\n\t\t</div>\n\t\t<div id=\"locationModal\" class=\"locationmodal\">\n\t\t\t<div class=\"locationmodal-content\">\n\t\t\t\t<p>Choose the chat location on the map</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport L from 'leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport fb from '@/firebase/init'\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n   iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n   iconUrl: require('leaflet/dist/images/marker-icon.png'),\n   shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nexport default {\n  name: 'app',\n  data () {\n        return {\n            lat: null,\n\t\t\tlng: null,\n\t\t\tchatname: \"\",\n\t\t\tusers: [],\n\t\t\tclicked: 0,\n\t\t\tmarker: null\n        }\n\t},\n\tmethods: {\n\t\tcreateChatroom(){ \n\t\t\tfb.collection('users').add({ \n\t\t\t\t\tchatname: this.chatname,\n\t\t\t\t\tlat: this.lat,\n\t\t\t\t\tlng: this.lng,\n\t\t\t\t\ttimestamp: Date.now()\n\t\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err); \n\t\t\t});\n\t\t\tvar modal = document.getElementById(\"myModal\"); \n\t\t\tmodal.style.display = \"none\";\n\t\t},\n\t},\n\tmounted() {\n\t\tvar map = L.map('map', { center: [46.7712, 23.6236], zoom: 5 });\n\t\tvar tiles = new L.tileLayer('http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png');\n\t\ttiles.addTo(map);\n\t\tvar modal = document.getElementById(\"myModal\");\n\t\twindow.onclick = function(event) {\n\t\t\tif (event.target == modal) {\n\t\t\t\tmodal.style.display = \"none\";\n\t\t\t}\n\t\t};\n\n\t\tthis.$root.$on('setLocation', () => {\n\t\t\tvar locmodal = document.getElementById(\"locationModal\");\n\t\t\tlocmodal.style.display = \"block\";\n\t\t\tvar self = this;\n\n\t\t\tfunction openModal(latitude, longitude) {\n\t\t\t\tself.lat = latitude;\n\t\t\t\tself.lng = longitude;\n\t\t\t\tmodal.style.display = \"block\";\n\t\t\t\tlocmodal.style.display = \"none\";\n\t\t\t}\n\n\t\t\tfunction setMarker(callback) {\n\t\t\t\tmap.on('click', function(e) {\n\t\t\t\t\tthis.marker = L.marker(e.latlng).addTo(map);\n\t\t\t\t\tlocalStorage.setItem('latitude', e.latlng.lat.toFixed(4));\n\t\t\t\t\tlocalStorage.setItem('longitude', e.latlng.lng.toFixed(4));\n\t\t\t\t\tcallback(localStorage.latitude, localStorage.longitude)\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tsetMarker(openModal);\n\t\t\t\t\n\t\t});\n\n\t\tthis.$root.$on('showMarker', () => {\n\t\t\tthis.marker = L.marker([localStorage.latitude, localStorage.longitude]).addTo(map);\n\t\t});\n\n\t\tthis.$root.$on('hideMarker', () => {\n\t\t\tmap.removeLayer(this.marker);\n\t\t})\n\t},\n}\n</script>\n\n<style>\n#app {\n\tfont-family: 'Avenir', Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\ttext-align: center;\n\tcolor: #2c3e50;\n\tposition: relative;\n}\n#map {\n\twidth: 100%;\n\theight: 800px;\n\tz-index:0;\n}\n.chatbox {\n\tposition: absolute;\n\tz-index:1;\n\ttop:100px;\n\tright:100px;\n\tbackground-color: white;\n\tborder: 1px solid black;\n\twidth: 500px;\n\tmin-height: 500px;\n}\n\n.modal {\n  display: none; \n  position: absolute;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 300px; \n  height: 200px; \n  overflow: auto; \n  background-color: rgb(0,0,0); \n  background-color: rgba(0,0,0,0.4); \n}\n.locationmodal {\n  display: none; \n  position: absolute;\n  width: 400px; \n  height: 50px;\n  top: 20px;\n  left: 50%;\n  margin-left: -200px;\n  z-index: 1;\n}\n.locationmodal-content{\nbackground-color: #fefefe;\n  margin: auto auto; \n  padding: 20px;\n  border: 1px solid #888;\n  width: 100%;\n}\n.modal-content {\n  background-color: #fefefe;\n  margin: 15% auto; \n  padding: 20px;\n  border: 1px solid #888;\n  width: 30% !important;\n}\n</style>\n"],"sourceRoot":"src"}]}